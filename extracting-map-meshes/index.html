
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dropshot/">
      
      
        <link rel="next" href="../hoops/">
      
      
      <link rel="icon" href="../assets/rlbot-logo.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.4">
    
    
      
        <title>Extracting map meshes - RLBot Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bd3936ea.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prerequisites" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="RLBot Wiki" class="md-header__button md-logo" aria-label="RLBot Wiki" data-md-component="logo">
      
  <img src="../assets/rlbot-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RLBot Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extracting map meshes
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="RLBot Wiki" class="md-nav__button md-logo" aria-label="RLBot Wiki" data-md-component="logo">
      
  <img src="../assets/rlbot-logo.svg" alt="logo">

    </a>
    RLBot Wiki
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RLBot
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../air-show/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Air show
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../antivirus-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Antivirus notes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../ball-path-prediction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ball path prediction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../bot-customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot customization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../community-guidelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community guidelines
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../config-file-documenation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot Config File
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../console-commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Console commands
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../dropshot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dropshot
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Extracting map meshes
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Extracting map meshes
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-notes-before-getting-started" class="md-nav__link">
    Additional notes before getting started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opening-u-model-the-right-way" class="md-nav__link">
    Opening U-Model the right way
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-identify-a-map" class="md-nav__link">
    How to identify a map
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-a-map" class="md-nav__link">
    Extracting a map
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifying-collision-files" class="md-nav__link">
    Identifying collision files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-to-blender" class="md-nav__link">
    Importing to Blender
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-the-object-to-binary-data" class="md-nav__link">
    Converting the object to binary data
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../hoops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hoops
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../input-and-output-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Input and Output Data (current)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../jumping-physics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Physics Of Jumping
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../lan-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lan setup
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../machine-learning-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine learning faq
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../manipulating-game-state/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manipulating game state
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../matchcomms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matchcomms
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../missing-pages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Missing pages
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../operating-system-support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operating system support
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../psyonix-api-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Psyonix api notes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../quickchat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickchat
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rendering
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../rlbot-pack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RLBot Pack
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../rlbot-specific-game-settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rlbot specific game settings
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../rocket-league-story-mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rocket league story mode
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scripts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../shooting-the-ball-towards-or-away-from-a-target/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shooting the ball towards or away from a target
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../sockets-specification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sockets specification
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../supported-programming-languages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported programming languages
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../team-match-communication-protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TMCP
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../tick-rate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tick rate
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../tips-for-running-tournaments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips for running tournaments
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation errors
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../useful-game-values/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Useful game values
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../workshop-custom-maps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop custom maps
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-notes-before-getting-started" class="md-nav__link">
    Additional notes before getting started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opening-u-model-the-right-way" class="md-nav__link">
    Opening U-Model the right way
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-identify-a-map" class="md-nav__link">
    How to identify a map
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-a-map" class="md-nav__link">
    Extracting a map
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifying-collision-files" class="md-nav__link">
    Identifying collision files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-to-blender" class="md-nav__link">
    Importing to Blender
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-the-object-to-binary-data" class="md-nav__link">
    Converting the object to binary data
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Extracting map meshes</h1>

<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>64-bit Windows</li>
<li>Rocket League</li>
<li><a href="https://www.gildor.org/en/projects/umodel#files">U-Model</a></li>
<li><a href="https://www.blender.org/">Blender 2.9+</a></li>
<li><a href="https://github.com/Befzz/blender3d_import_psk_psa">Blender .psk addon</a></li>
</ul>
<h2 id="additional-notes-before-getting-started">Additional notes before getting started</h2>
<p>This tutorial was tested on Blender 3.1.</p>
<p>Python knowledge is preferred for this tutorial, but you can get by without it.</p>
<p>Python does not need to be installed for this to work.</p>
<p>The resulting <code>.bin</code> files can be imported into any language that can read binary numbers from a file. The id files are a chain of 32-bit integers in little-endian format, and the vertices are stored at 3 32-bit floats in a row (x, y, z), also stored in little-endian format. Each ID in ids corresponds to the index of the vertex if you parsed the vertices in the order that they appear in the file. (By default.)</p>
<h2 id="overview">Overview</h2>
<ol>
<li>Opening U-Model the right way</li>
<li>How to identify a map</li>
<li>Extracting a map</li>
<li>Identifying collision files</li>
<li>Importing to Blender</li>
<li>Converting object to binary data</li>
</ol>
<h2 id="opening-u-model-the-right-way">Opening U-Model the right way</h2>
<p>Create a bat file called <code>umodel.bat</code>, and save this to it:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>umodel.exe -game=rocketleague -path=<span class="s2">&quot;C:\Program Files (x86)\Steam\steamapps\common\rocketleague\TAGame\CookedPCConsole&quot;</span>
</code></pre></div>
<p>Depending on where you saved U-Model, you may have to use <code>cd</code> before that to get to it:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">cd</span> C:\Program Files (x86)\umodel_win32
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>umodel.exe -game=rocketleague -path=<span class="s2">&quot;C:\Program Files (x86)\Steam\steamapps\common\rocketleague\TAGame\CookedPCConsole&quot;</span>
</code></pre></div>
<p>Use this bat file that you create to launch U-Model whenever you need to use it.</p>
<p>If you have Rocket League install through Epic Games, use this path instead: <code>C:\Program Files\Epic Games\rocketleague\TAGame\CookedPCConsole</code></p>
<p>WARNING: Be sure to use the 32-bit version of U-Model! You're safe as long as you don't change <code>umodel.exe</code> to <code>umodel_64.exe</code>. Some assets will refuse to load, if you do.</p>
<h2 id="how-to-identify-a-map">How to identify a map</h2>
<p>In the top-left-ish corner, there's space for you to filter all the files. If you type in <code>_P.upk</code>, you will get a list of all of the maps.</p>
<p>If you're looking for a map, filter by <code>MapImage</code>. You can double-click on a file to view a preview of the map with a similar name. Press the key <code>O</code> (or go top left -&gt; File -&gt; Open package) to get back to the menu with all of the files.</p>
<h2 id="extracting-a-map">Extracting a map</h2>
<p>In this example, I will be using <code>Stadium_P.upk</code> - otherwise known as DFH Stadium.</p>
<p>Right-click on the map you want to export, click <code>Export</code>, and all of the map data will be extracted for you.</p>
<p>All files are extracted to the <code>UmodelExport</code> folder in whatever folder you saved U-Model to. For me, this is <code>C:\Program Files (x86)\umodel_win32\UmodelExport</code>.</p>
<h2 id="identifying-collision-files">Identifying collision files</h2>
<p>Inside the folder of the map you extracted, there should be 5 more folders - the one that you want is called <code>StaticMesh3</code>. In this folder, simply look for any <code>.pskx</code> files that have the word <code>collision</code> in them. For DFH Stadium, there are 4 files:
* <code>Goal_STD_Collision.pskx</code>
* <code>Field_STD_Collision_Corner.pskx</code>
* <code>Field_STD_Collision_SideTop.pskx</code>
* <code>Field_STD_Collision_SideBot.pskx</code></p>
<p>These files contain all of the available field collision information.</p>
<h2 id="importing-to-blender">Importing to Blender</h2>
<p>Open Blender, and select "General." This will load a default 3D scene, with a cube, light source, and camera.</p>
<p><img alt="image" src="../img/extracting-map-meshes/1.png" /></p>
<p>Next, in the top right, delete all three of these things. (Right-click -&gt; Delete)</p>
<p><img alt="image" src="../img/extracting-map-meshes/2.png" /></p>
<p>Now, we import ONE of our objects. This is important - we can only convert one at a time unless changes are made to the script in the next section. When you want to convert another object, delete the only one in the scene first. The process is the same as deleting the cube, as we did previously.</p>
<p>To import an object, go to the top right -&gt; Files -&gt; Import -&gt; Skeleton Mesh (.psk). Use this to import one of the <code>.pskx</code> collision files that we got earlier.</p>
<p><img alt="image" src="../img/extracting-map-meshes/3.png" /></p>
<p>For this, I have imported DFH Stadium's <code>Field_STD_Collision_Corner.pskx</code>.</p>
<p><img alt="image" src="../img/extracting-map-meshes/4.png" /></p>
<h2 id="converting-the-object-to-binary-data">Converting the object to binary data</h2>
<p>At the top of Blender, select the Scripting tab.</p>
<p><img alt="image" src="../img/extracting-map-meshes/5.png" />
In the top middle, select New.</p>
<p><img alt="image" src="../img/extracting-map-meshes/6.png" /></p>
<p>Copy &amp; paste the below Python script:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">import</span> <span class="nn">bpy</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># Blender Python API Documentation</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># https://docs.blender.org/api/current/index.html</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">objects</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MORE THAN ONE OBJECT EXISTS!&quot;</span><span class="p">)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    <span class="n">exit</span><span class="p">()</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">obj_name</span> <span class="o">=</span> <span class="s2">&quot;soccar_corner&quot;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="n">data</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="n">verts</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="k">for</span> <span class="n">tri</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">polygons</span><span class="p">:</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>    <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">tri</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>        <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="k">for</span> <span class="n">vert</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>    <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">vert</span><span class="o">.</span><span class="n">co</span><span class="p">:</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>        <span class="n">verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coord</span><span class="p">)</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of ids: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of triangles: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of coordinates: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">verts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of vertices: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">verts</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;Documents&quot;</span><span class="p">)</span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="c1">#import json</span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="c1">#with open(obj_name + &quot;_ids.json&quot;, &quot;w&quot;) as f:</span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="c1">#    json.dump(ids, f)</span>
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a><span class="c1">#print(&quot;Wrote json ids&quot;)</span>
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="c1">#with open(obj_name + &quot;_vertices.json&quot;, &quot;w&quot;) as f:</span>
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a><span class="c1">#    json.dump(verts, f)</span>
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a><span class="c1">#    </span>
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a><span class="c1">#print(&quot;Wrote json vertices&quot;)</span>
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="kn">import</span> <span class="nn">struct</span>
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">+</span> <span class="s2">&quot;_ids.bin&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span> <span class="o">+</span> <span class="s2">&quot;i&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">),</span> <span class="o">*</span><span class="n">ids</span><span class="p">))</span>
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a>
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Wrote binary ids&quot;</span><span class="p">)</span>
<a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a>
<a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">obj_name</span> <span class="o">+</span> <span class="s2">&quot;_vertices.bin&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span> <span class="o">+</span> <span class="s2">&quot;f&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">verts</span><span class="p">),</span> <span class="o">*</span><span class="n">verts</span><span class="p">))</span>
<a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>
<a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Wrote binary vertices&quot;</span><span class="p">)</span>
</code></pre></div>
<p>You can edit the line <code>obj_name = "soccar_corner"</code> near the top to adjust the name of the outputted file, and <code>os.chdir(Path.home() / "Documents")</code> to edit the output folder.</p>
<p>Click on the Play/Run button in the top middle to run the script.</p>
<p><img alt="image" src="../img/extracting-map-meshes/7.png" /></p>
<p>This creates the two bin files containing the ids and vertices from the object.</p>
<p><img alt="image" src="../img/extracting-map-meshes/8.png" /></p>
<p>If you want an example of using collision data and compiling them into a mesh to run collision queries on, check out the <a href="https://github.com/VirxEC/rl_ball_sym">rl_ball_sym Rust project</a>:</p>
<ul>
<li><a href="https://github.com/VirxEC/rl_ball_sym/blob/master/src/uncompressed.rs#L13-L25">Reading into a mesh</a></li>
<li><a href="https://github.com/VirxEC/rl_ball_sym/blob/master/src/simulation/mesh.rs#L17-L44">Loading all collision data</a></li>
<li><a href="https://github.com/VirxEC/rl_ball_sym/blob/master/src/simulation/field.rs#L20-L56">Compiling all collision data into a big mesh, then triangles and a BVH</a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.94c44541.min.js"></script>
      
    
  </body>
</html>